<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>数据采集工具 | Code Diary</title>
    <meta name="generator" content="VuePress 1.9.9">
    <link rel="icon" href="/learn-ceiling/hand.jpg">
    <meta name="description" content="技术笔记、编程心得分享">
    <meta name="referrer" content="no-referrer">
    
    <link rel="preload" href="/learn-ceiling/assets/css/0.styles.df47c79f.css" as="style"><link rel="preload" href="/learn-ceiling/assets/js/app.235538a9.js" as="script"><link rel="preload" href="/learn-ceiling/assets/js/2.c7d2b1f7.js" as="script"><link rel="preload" href="/learn-ceiling/assets/js/22.485d0a07.js" as="script"><link rel="prefetch" href="/learn-ceiling/assets/js/10.c4c4f495.js"><link rel="prefetch" href="/learn-ceiling/assets/js/11.06c1692d.js"><link rel="prefetch" href="/learn-ceiling/assets/js/12.e70990f1.js"><link rel="prefetch" href="/learn-ceiling/assets/js/13.5ea6f405.js"><link rel="prefetch" href="/learn-ceiling/assets/js/14.5ce76ccb.js"><link rel="prefetch" href="/learn-ceiling/assets/js/15.b5c61832.js"><link rel="prefetch" href="/learn-ceiling/assets/js/16.6e4e0759.js"><link rel="prefetch" href="/learn-ceiling/assets/js/17.b6f52e7f.js"><link rel="prefetch" href="/learn-ceiling/assets/js/18.155f2caf.js"><link rel="prefetch" href="/learn-ceiling/assets/js/19.ea21c3cf.js"><link rel="prefetch" href="/learn-ceiling/assets/js/20.33c43e06.js"><link rel="prefetch" href="/learn-ceiling/assets/js/21.f4e6e20a.js"><link rel="prefetch" href="/learn-ceiling/assets/js/23.fb805a45.js"><link rel="prefetch" href="/learn-ceiling/assets/js/24.6a258cf5.js"><link rel="prefetch" href="/learn-ceiling/assets/js/25.c4c4023d.js"><link rel="prefetch" href="/learn-ceiling/assets/js/26.d92cf884.js"><link rel="prefetch" href="/learn-ceiling/assets/js/27.5d88d619.js"><link rel="prefetch" href="/learn-ceiling/assets/js/28.a0b76e62.js"><link rel="prefetch" href="/learn-ceiling/assets/js/29.3f0426da.js"><link rel="prefetch" href="/learn-ceiling/assets/js/3.d1fbc4fe.js"><link rel="prefetch" href="/learn-ceiling/assets/js/30.7adccd2c.js"><link rel="prefetch" href="/learn-ceiling/assets/js/31.7d0b9a7f.js"><link rel="prefetch" href="/learn-ceiling/assets/js/32.6970bcc0.js"><link rel="prefetch" href="/learn-ceiling/assets/js/33.eeb35d50.js"><link rel="prefetch" href="/learn-ceiling/assets/js/34.ea24ea8b.js"><link rel="prefetch" href="/learn-ceiling/assets/js/35.c40a585a.js"><link rel="prefetch" href="/learn-ceiling/assets/js/36.79790a12.js"><link rel="prefetch" href="/learn-ceiling/assets/js/37.a847b8a1.js"><link rel="prefetch" href="/learn-ceiling/assets/js/38.9a6ab34d.js"><link rel="prefetch" href="/learn-ceiling/assets/js/39.bf0bc1a7.js"><link rel="prefetch" href="/learn-ceiling/assets/js/4.b6acf418.js"><link rel="prefetch" href="/learn-ceiling/assets/js/40.2e93acfd.js"><link rel="prefetch" href="/learn-ceiling/assets/js/41.bcc213e5.js"><link rel="prefetch" href="/learn-ceiling/assets/js/42.558394fc.js"><link rel="prefetch" href="/learn-ceiling/assets/js/43.cd846378.js"><link rel="prefetch" href="/learn-ceiling/assets/js/44.afcb9063.js"><link rel="prefetch" href="/learn-ceiling/assets/js/45.526cdab6.js"><link rel="prefetch" href="/learn-ceiling/assets/js/46.3bbeeda3.js"><link rel="prefetch" href="/learn-ceiling/assets/js/47.dba7847e.js"><link rel="prefetch" href="/learn-ceiling/assets/js/48.29379048.js"><link rel="prefetch" href="/learn-ceiling/assets/js/49.f526a58a.js"><link rel="prefetch" href="/learn-ceiling/assets/js/5.3747e8f8.js"><link rel="prefetch" href="/learn-ceiling/assets/js/50.2be0a3da.js"><link rel="prefetch" href="/learn-ceiling/assets/js/51.46ccf051.js"><link rel="prefetch" href="/learn-ceiling/assets/js/52.9bcd0722.js"><link rel="prefetch" href="/learn-ceiling/assets/js/53.06fef668.js"><link rel="prefetch" href="/learn-ceiling/assets/js/54.534da4f1.js"><link rel="prefetch" href="/learn-ceiling/assets/js/55.22f59a2a.js"><link rel="prefetch" href="/learn-ceiling/assets/js/56.5b1e2aa6.js"><link rel="prefetch" href="/learn-ceiling/assets/js/57.daacfc08.js"><link rel="prefetch" href="/learn-ceiling/assets/js/58.cb240494.js"><link rel="prefetch" href="/learn-ceiling/assets/js/59.f0cab42c.js"><link rel="prefetch" href="/learn-ceiling/assets/js/6.3688e4ed.js"><link rel="prefetch" href="/learn-ceiling/assets/js/60.74872728.js"><link rel="prefetch" href="/learn-ceiling/assets/js/61.a7a19f44.js"><link rel="prefetch" href="/learn-ceiling/assets/js/62.bda341fd.js"><link rel="prefetch" href="/learn-ceiling/assets/js/63.39847a02.js"><link rel="prefetch" href="/learn-ceiling/assets/js/64.8ac906c5.js"><link rel="prefetch" href="/learn-ceiling/assets/js/7.dddd7af2.js"><link rel="prefetch" href="/learn-ceiling/assets/js/8.4b31d8be.js"><link rel="prefetch" href="/learn-ceiling/assets/js/9.9a27c3e2.js">
    <link rel="stylesheet" href="/learn-ceiling/assets/css/0.styles.df47c79f.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><main><main slot="sidebar-top"><a href="https://github.com/25122lxy/" aria-label="View source on GitHub" target="_blank" class="github-corner"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path> <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" class="octo-arm" style="transform-origin: 130px 106px;"></path> <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a></main> <div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/learn-ceiling/" class="home-link router-link-active"><!----> <span class="site-name">Code Diary</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/learn-ceiling/" class="nav-link">
  Index
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Learn" class="dropdown-title"><span class="title">Learn</span> <span class="arrow down"></span></button> <button type="button" aria-label="Learn" class="mobile-dropdown-title"><span class="title">Learn</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/learn-ceiling/handbook/Learn/Microservice/01-初识微服务.html" class="nav-link">
  Microservice
</a></li><li class="dropdown-item"><!----> <a href="/learn-ceiling/handbook/Learn/RabbitMQ/1.RabbitMQ-简介及安装.html" class="nav-link">
  RabbitMQ
</a></li><li class="dropdown-item"><!----> <a href="/learn-ceiling/handbook/Learn/Redis/0-Redis-Basic.html" class="nav-link">
  Redis
</a></li><li class="dropdown-item"><!----> <a href="/learn-ceiling/handbook/Learn/SQL/SQL案例.html" class="nav-link">
  MySQL
</a></li><li class="dropdown-item"><!----> <a href="/learn-ceiling/handbook/Learn/前端快速入门/01-HTML-CSS.html" class="nav-link">
  前端快速入门
</a></li><li class="dropdown-item"><!----> <a href="/learn-ceiling/handbook/Learn/Linux/01-Linux入门.html" class="nav-link">
  Linux
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Project" class="dropdown-title"><span class="title">Project</span> <span class="arrow down"></span></button> <button type="button" aria-label="Project" class="mobile-dropdown-title"><span class="title">Project</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/learn-ceiling/handbook/Learn/RabbitMQ/1.RabbitMQ-简介及安装.html" class="nav-link">
  社区精品汇
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Interview" class="dropdown-title"><span class="title">Interview</span> <span class="arrow down"></span></button> <button type="button" aria-label="Interview" class="mobile-dropdown-title"><span class="title">Interview</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/learn-ceiling/handbook/Interview/00-查漏补缺.html" class="nav-link">
  查漏补缺
</a></li><li class="dropdown-item"><!----> <a href="/learn-ceiling/handbook/Interview/01-Java基础.html" class="nav-link">
  Java基础
</a></li><li class="dropdown-item"><!----> <a href="/learn-ceiling/handbook/Interview/02-Redis.html" class="nav-link">
  Redis
</a></li><li class="dropdown-item"><!----> <a href="/learn-ceiling/handbook/Interview/03-MySQL.html" class="nav-link">
  MySQL
</a></li><li class="dropdown-item"><!----> <a href="/learn-ceiling/handbook/Interview/04-Java框架.html" class="nav-link">
  Java框架
</a></li><li class="dropdown-item"><!----> <a href="/learn-ceiling/handbook/Interview/05-微服务.html" class="nav-link">
  微服务
</a></li><li class="dropdown-item"><!----> <a href="/learn-ceiling/handbook/Interview/06-消息中间件.html" class="nav-link">
  消息中间件
</a></li><li class="dropdown-item"><!----> <a href="/learn-ceiling/handbook/Interview/07-Java集合.html" class="nav-link">
  Java集合
</a></li><li class="dropdown-item"><!----> <a href="/learn-ceiling/handbook/Interview/08-Java并发.html" class="nav-link">
  Java并发
</a></li><li class="dropdown-item"><!----> <a href="/learn-ceiling/handbook/Interview/09-JVM.html" class="nav-link">
  JVM
</a></li><li class="dropdown-item"><!----> <a href="/learn-ceiling/handbook/Interview/10-Linux.html" class="nav-link">
  Linux
</a></li><li class="dropdown-item"><!----> <a href="/learn-ceiling/handbook/Interview/11-Hadoop.html" class="nav-link">
  Hadoop
</a></li><li class="dropdown-item"><!----> <a href="/learn-ceiling/handbook/Interview/12-Hive.html" class="nav-link">
  Hive
</a></li><li class="dropdown-item"><!----> <a href="/learn-ceiling/handbook/Interview/13-Spark.html" class="nav-link">
  Spark
</a></li><li class="dropdown-item"><!----> <a href="/learn-ceiling/handbook/Interview/16-数据采集工具.html" class="nav-link">
  数据采集工具
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="lxy25122-blog" class="dropdown-title"><span class="title">lxy25122-blog</span> <span class="arrow down"></span></button> <button type="button" aria-label="lxy25122-blog" class="mobile-dropdown-title"><span class="title">lxy25122-blog</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/lxy25122" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://gitee.com/tjlxy" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Gitee
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/learn-ceiling/" class="nav-link">
  Index
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Learn" class="dropdown-title"><span class="title">Learn</span> <span class="arrow down"></span></button> <button type="button" aria-label="Learn" class="mobile-dropdown-title"><span class="title">Learn</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/learn-ceiling/handbook/Learn/Microservice/01-初识微服务.html" class="nav-link">
  Microservice
</a></li><li class="dropdown-item"><!----> <a href="/learn-ceiling/handbook/Learn/RabbitMQ/1.RabbitMQ-简介及安装.html" class="nav-link">
  RabbitMQ
</a></li><li class="dropdown-item"><!----> <a href="/learn-ceiling/handbook/Learn/Redis/0-Redis-Basic.html" class="nav-link">
  Redis
</a></li><li class="dropdown-item"><!----> <a href="/learn-ceiling/handbook/Learn/SQL/SQL案例.html" class="nav-link">
  MySQL
</a></li><li class="dropdown-item"><!----> <a href="/learn-ceiling/handbook/Learn/前端快速入门/01-HTML-CSS.html" class="nav-link">
  前端快速入门
</a></li><li class="dropdown-item"><!----> <a href="/learn-ceiling/handbook/Learn/Linux/01-Linux入门.html" class="nav-link">
  Linux
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Project" class="dropdown-title"><span class="title">Project</span> <span class="arrow down"></span></button> <button type="button" aria-label="Project" class="mobile-dropdown-title"><span class="title">Project</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/learn-ceiling/handbook/Learn/RabbitMQ/1.RabbitMQ-简介及安装.html" class="nav-link">
  社区精品汇
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Interview" class="dropdown-title"><span class="title">Interview</span> <span class="arrow down"></span></button> <button type="button" aria-label="Interview" class="mobile-dropdown-title"><span class="title">Interview</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/learn-ceiling/handbook/Interview/00-查漏补缺.html" class="nav-link">
  查漏补缺
</a></li><li class="dropdown-item"><!----> <a href="/learn-ceiling/handbook/Interview/01-Java基础.html" class="nav-link">
  Java基础
</a></li><li class="dropdown-item"><!----> <a href="/learn-ceiling/handbook/Interview/02-Redis.html" class="nav-link">
  Redis
</a></li><li class="dropdown-item"><!----> <a href="/learn-ceiling/handbook/Interview/03-MySQL.html" class="nav-link">
  MySQL
</a></li><li class="dropdown-item"><!----> <a href="/learn-ceiling/handbook/Interview/04-Java框架.html" class="nav-link">
  Java框架
</a></li><li class="dropdown-item"><!----> <a href="/learn-ceiling/handbook/Interview/05-微服务.html" class="nav-link">
  微服务
</a></li><li class="dropdown-item"><!----> <a href="/learn-ceiling/handbook/Interview/06-消息中间件.html" class="nav-link">
  消息中间件
</a></li><li class="dropdown-item"><!----> <a href="/learn-ceiling/handbook/Interview/07-Java集合.html" class="nav-link">
  Java集合
</a></li><li class="dropdown-item"><!----> <a href="/learn-ceiling/handbook/Interview/08-Java并发.html" class="nav-link">
  Java并发
</a></li><li class="dropdown-item"><!----> <a href="/learn-ceiling/handbook/Interview/09-JVM.html" class="nav-link">
  JVM
</a></li><li class="dropdown-item"><!----> <a href="/learn-ceiling/handbook/Interview/10-Linux.html" class="nav-link">
  Linux
</a></li><li class="dropdown-item"><!----> <a href="/learn-ceiling/handbook/Interview/11-Hadoop.html" class="nav-link">
  Hadoop
</a></li><li class="dropdown-item"><!----> <a href="/learn-ceiling/handbook/Interview/12-Hive.html" class="nav-link">
  Hive
</a></li><li class="dropdown-item"><!----> <a href="/learn-ceiling/handbook/Interview/13-Spark.html" class="nav-link">
  Spark
</a></li><li class="dropdown-item"><!----> <a href="/learn-ceiling/handbook/Interview/16-数据采集工具.html" class="nav-link">
  数据采集工具
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="lxy25122-blog" class="dropdown-title"><span class="title">lxy25122-blog</span> <span class="arrow down"></span></button> <button type="button" aria-label="lxy25122-blog" class="mobile-dropdown-title"><span class="title">lxy25122-blog</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/lxy25122" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://gitee.com/tjlxy" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Gitee
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/learn-ceiling/" aria-current="page" class="sidebar-link">学前必读</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Learn</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Project</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Interview</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/learn-ceiling/handbook/Interview/00-查漏补缺.html" class="sidebar-link">查漏补缺</a></li><li><a href="/learn-ceiling/handbook/Interview/01-Java基础.html" class="sidebar-link">Java基础</a></li><li><a href="/learn-ceiling/handbook/Interview/02-Redis.html" class="sidebar-link">Redis</a></li><li><a href="/learn-ceiling/handbook/Interview/03-MySQL.html" class="sidebar-link">MySQL</a></li><li><a href="/learn-ceiling/handbook/Interview/04-Java框架.html" class="sidebar-link">Java框架</a></li><li><a href="/learn-ceiling/handbook/Interview/05-微服务.html" class="sidebar-link">微服务</a></li><li><a href="/learn-ceiling/handbook/Interview/06-消息中间件.html" class="sidebar-link">消息中间件</a></li><li><a href="/learn-ceiling/handbook/Interview/07-Java集合.html" class="sidebar-link">Java集合</a></li><li><a href="/learn-ceiling/handbook/Interview/08-Java并发.html" class="sidebar-link">Java并发</a></li><li><a href="/learn-ceiling/handbook/Interview/09-JVM.html" class="sidebar-link">JVM</a></li><li><a href="/learn-ceiling/handbook/Interview/10-Linux.html" class="sidebar-link">Linux</a></li><li><a href="/learn-ceiling/handbook/Interview/11-Hadoop.html" class="sidebar-link">Hadoop</a></li><li><a href="/learn-ceiling/handbook/Interview/12-Hive.html" class="sidebar-link">Hive</a></li><li><a href="/learn-ceiling/handbook/Interview/13-Spark.html" class="sidebar-link">Spark</a></li><li><a href="/learn-ceiling/handbook/Interview/16-数据采集工具.html" class="active sidebar-link">数据采集工具</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/learn-ceiling/handbook/Interview/16-数据采集工具.html#flume" class="sidebar-link">Flume</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/learn-ceiling/handbook/Interview/16-数据采集工具.html#_1-基本组成" class="sidebar-link">1.基本组成</a></li><li class="sidebar-sub-header"><a href="/learn-ceiling/handbook/Interview/16-数据采集工具.html#_2-三个器-拦截器、选择器、监控器" class="sidebar-link">2.三个器（拦截器、选择器、监控器）</a></li><li class="sidebar-sub-header"><a href="/learn-ceiling/handbook/Interview/16-数据采集工具.html#_3-优化" class="sidebar-link">3.优化</a></li><li class="sidebar-sub-header"><a href="/learn-ceiling/handbook/Interview/16-数据采集工具.html#_4-挂了" class="sidebar-link">4.挂了</a></li></ul></li><li class="sidebar-sub-header"><a href="/learn-ceiling/handbook/Interview/16-数据采集工具.html#datax" class="sidebar-link">DataX</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/learn-ceiling/handbook/Interview/16-数据采集工具.html#_1-使用场景" class="sidebar-link">1.使用场景</a></li><li class="sidebar-sub-header"><a href="/learn-ceiling/handbook/Interview/16-数据采集工具.html#_2-遇到的问题" class="sidebar-link">2.遇到的问题</a></li><li class="sidebar-sub-header"><a href="/learn-ceiling/handbook/Interview/16-数据采集工具.html#_3-优化-2" class="sidebar-link">3.优化</a></li><li class="sidebar-sub-header"><a href="/learn-ceiling/handbook/Interview/16-数据采集工具.html#_4-几点开始跑-跑多久" class="sidebar-link">4.几点开始跑，跑多久</a></li><li class="sidebar-sub-header"><a href="/learn-ceiling/handbook/Interview/16-数据采集工具.html#_5-datax有什么缺陷-与sqoop的区别" class="sidebar-link">5.DataX有什么缺陷？与Sqoop的区别</a></li></ul></li><li class="sidebar-sub-header"><a href="/learn-ceiling/handbook/Interview/16-数据采集工具.html#maxwell" class="sidebar-link">Maxwell</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/learn-ceiling/handbook/Interview/16-数据采集工具.html#_1-原理" class="sidebar-link">1.原理</a></li><li class="sidebar-sub-header"><a href="/learn-ceiling/handbook/Interview/16-数据采集工具.html#_2-为什么要用它" class="sidebar-link">2.为什么要用它</a></li><li class="sidebar-sub-header"><a href="/learn-ceiling/handbook/Interview/16-数据采集工具.html#_3-maxwell-和-canal-为什么用-maxwell" class="sidebar-link">3.Maxwell 和 Canal 为什么用 Maxwell</a></li><li class="sidebar-sub-header"><a href="/learn-ceiling/handbook/Interview/16-数据采集工具.html#_4-maxwell-同步历史数据的时候-怎么保证一致性" class="sidebar-link">4.Maxwell 同步历史数据的时候，怎么保证一致性</a></li></ul></li><li class="sidebar-sub-header"><a href="/learn-ceiling/handbook/Interview/16-数据采集工具.html#sqoop" class="sidebar-link">Sqoop</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/learn-ceiling/handbook/Interview/16-数据采集工具.html#_1-sqoop参数" class="sidebar-link">1.Sqoop参数</a></li><li class="sidebar-sub-header"><a href="/learn-ceiling/handbook/Interview/16-数据采集工具.html#_2-sqoop导入导出null存储一致性问题" class="sidebar-link">2. Sqoop导入导出Null存储一致性问题</a></li><li class="sidebar-sub-header"><a href="/learn-ceiling/handbook/Interview/16-数据采集工具.html#_3-sqoop数据导出一致性问题" class="sidebar-link">3. Sqoop数据导出一致性问题</a></li><li class="sidebar-sub-header"><a href="/learn-ceiling/handbook/Interview/16-数据采集工具.html#_4-sqoop底层运行的任务是什么" class="sidebar-link">4. Sqoop底层运行的任务是什么</a></li><li class="sidebar-sub-header"><a href="/learn-ceiling/handbook/Interview/16-数据采集工具.html#_5-sqoop一天导入多少数据" class="sidebar-link">5. Sqoop一天导入多少数据</a></li><li class="sidebar-sub-header"><a href="/learn-ceiling/handbook/Interview/16-数据采集工具.html#_6-sqoop数据导出的时候一次执行多长时间" class="sidebar-link">6. Sqoop数据导出的时候一次执行多长时间</a></li><li class="sidebar-sub-header"><a href="/learn-ceiling/handbook/Interview/16-数据采集工具.html#_7-sqoop在导入数据的时候数据倾斜" class="sidebar-link">7. Sqoop在导入数据的时候数据倾斜</a></li><li class="sidebar-sub-header"><a href="/learn-ceiling/handbook/Interview/16-数据采集工具.html#_8-sqoop数据导出parquet-项目中遇到的问题" class="sidebar-link">8. Sqoop数据导出Parquet（项目中遇到的问题）</a></li><li class="sidebar-sub-header"><a href="/learn-ceiling/handbook/Interview/16-数据采集工具.html#举例说明" class="sidebar-link">举例说明</a></li></ul></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="数据采集工具"><a href="#数据采集工具" class="header-anchor">#</a> 数据采集工具</h1> <h2 id="flume"><a href="#flume" class="header-anchor">#</a> Flume</h2> <h3 id="_1-基本组成"><a href="#_1-基本组成" class="header-anchor">#</a> 1.基本组成</h3> <ol><li><p><code>taildir source</code></p> <ol><li>断点续传、多目录</li> <li>那个版本：Apache 1.7</li> <li>原理：持久化了<code>offset</code>到磁盘文件</li></ol></li> <li><p><code>channel</code>（file channel /memory channel/kafka channel）</p> <table><thead><tr><th>channel</th> <th></th> <th></th></tr></thead> <tbody><tr><td>memory</td> <td>基于内存</td> <td>效率高、可靠性低，默认100个event</td></tr> <tr><td>file</td> <td>基于磁盘</td> <td>效率低、可靠性高，默认100万个event</td></tr> <tr><td>kafka</td> <td>基于kafka磁盘</td> <td>效率高、可靠性高</td></tr></tbody></table> <ol><li><code>kafka channel</code>&gt;<code>memory channel</code>+<code>kafka sink</code></li> <li>有一个bug
<ol><li><code>kafkachannel</code>1.6产生的，有bug，携带header信息，1.7版本的时候解决了bug</li></ol></li> <li>怎么选？
<ol><li>如果对接<code>kafka</code>优先<code>kafka channel</code></li> <li>如果对接不是kafka
<ol><li>一般企业、普通日志，选效率高的：<code>memory</code></li> <li>金融、相关数据，选可靠性高的：<code>file</code></li></ol></li> <li></li></ol></li></ol></li> <li><p><code>hdfs sink</code></p> <ol><li>小文件
<ol><li>滚动数据：半小时</li> <li>滚动大小：128m（块大小）</li> <li>event 数量：0，表示禁用，每个event大小不一</li></ol></li></ol></li> <li><p>事务</p> <ol><li><code>source</code> -&gt; <code>channel</code> ：put 事务</li> <li><code>channel</code>-&gt; <code>sink</code>：take事务</li></ol></li></ol> <h3 id="_2-三个器-拦截器、选择器、监控器"><a href="#_2-三个器-拦截器、选择器、监控器" class="header-anchor">#</a> 2.三个器（拦截器、选择器、监控器）</h3> <ol><li>flume 拦截器
<ol><li>eg
<ol><li>ETL拦截器：采集log 的 flume，用来轻度清洗 JSON 格式不完整的数据</li> <li>时间拦截器：消费kafka 的 flume，解决零点漂移的问题</li></ol></li> <li>实现<code>Interceptor</code>，重写4个方法
<ol><li>初始化</li> <li>单 event 处理：处理逻辑，fastjson 转成 jsonobject， try catch</li> <li>多 event 处理</li> <li>关闭</li></ol></li> <li>实现静态内部类 Builder</li> <li>打成 jar 包 -&gt; 上传到flume 的 lib 下 -&gt; 配置文件指定 全类名￥Builder‘</li></ol></li> <li>flume channel 选择器
<ol><li>replicating：默认，一个 event 事件，发往所有的channel （广播）</li> <li>multiplexing：一个 event，发往指定的channel （分流）</li> <li>默认用replicating</li></ol></li> <li>flume 监控器
<ol><li>ganglia：
<ol><li>事务尝试提交的次数、事务成功提交的次数</li> <li>如果两者差值较大，说明发生大量重试，有问题 --&gt;优化</li></ol></li></ol></li></ol> <h3 id="_3-优化"><a href="#_3-优化" class="header-anchor">#</a> 3.优化</h3> <ol><li>提高内存：默认不设置flume-env就是 20m，提高 4~6G（修改flume-env）</li> <li>增加台数：重大节日提高增加日志服务器</li> <li>filechannel：指定多目录（多磁盘）</li></ol> <h3 id="_4-挂了"><a href="#_4-挂了" class="header-anchor">#</a> 4.挂了</h3> <ol><li>尝试重启：</li> <li>影响范围：
<ol><li>丢数：
<ol><li><code>taildirsource</code> 有断点续传</li> <li><code>channel</code>如果是 memory，会丢</li> <li>事务</li></ol></li> <li>重复：<code>taildirsource</code>可能重复</li> <li>最终保障：日志服务器的日志文件，保存30天</li></ol></li> <li>定位问题：看日志</li> <li>解决问题：eg：OOM -&gt; 加内存</li></ol> <h2 id="datax"><a href="#datax" class="header-anchor">#</a> DataX</h2> <h3 id="_1-使用场景"><a href="#_1-使用场景" class="header-anchor">#</a> 1.使用场景</h3> <ul><li>采集MySQL的数据</li> <li>首次加载历史数据、全量同步策略的表（主要是维表，数据量小，除了用户表）</li></ul> <p>​</p> <h3 id="_2-遇到的问题"><a href="#_2-遇到的问题" class="header-anchor">#</a> 2.遇到的问题</h3> <p>1、空值问题</p> <p>mysql		hive</p> <p>null			\N</p> <p>1）hive建表时，指定null的格式为''</p> <p>2）改源码，增加 null 值转 \N 的逻辑</p> <p>​		改 hdfswriter插件：代码增加了对 null 值的转换处理，如果是 NULL 值，转换成 \N</p> <p>​		重新编译打包 hdfswriter 插件</p> <p>​		替换掉原来的 hdfswriter 插件</p> <h3 id="_3-优化-2"><a href="#_3-优化-2" class="header-anchor">#</a> 3.优化</h3> <p>1、内存：4—8G，</p> <p>2、并发：</p> <p>调整 channel 数，3~5</p> <p>3、channel 的速率：1M/S --&gt; 5M/S</p> <h3 id="_4-几点开始跑-跑多久"><a href="#_4-几点开始跑-跑多久" class="header-anchor">#</a> 4.几点开始跑，跑多久</h3> <p>几个G（维表的全量：包含历史数据和增量数据）</p> <p>每个的业务数据增量有多少？</p> <p>​	百万日活、10-20万订单对应10条数据，每条数据平均1K</p> <p>​	20万<em>10条</em>1K = 2G</p> <h3 id="_5-datax有什么缺陷-与sqoop的区别"><a href="#_5-datax有什么缺陷-与sqoop的区别" class="header-anchor">#</a> 5.DataX有什么缺陷？与Sqoop的区别</h3> <p>Sqoop：已经停止维护</p> <p>DataX：单进程多线程，单机的，不是分布式</p> <p>数据量大时候，DataX  x1、x2、x3</p> <h2 id="maxwell"><a href="#maxwell" class="header-anchor">#</a> Maxwell</h2> <h3 id="_1-原理"><a href="#_1-原理" class="header-anchor">#</a> 1.原理</h3> <p>伪装成 MySQL 的从库，同步主库的 binlog</p> <p>binlog 的解析格式：row 。。。</p> <h3 id="_2-为什么要用它"><a href="#_2-为什么要用它" class="header-anchor">#</a> 2.为什么要用它</h3> <p>DataX不能做增量吗？---可以，通过时间字段筛选，create time、update time</p> <p>未来实时要用，同步的是事实表，用户表</p> <h3 id="_3-maxwell-和-canal-为什么用-maxwell"><a href="#_3-maxwell-和-canal-为什么用-maxwell" class="header-anchor">#</a> 3.Maxwell 和 Canal 为什么用 Maxwell</h3> <p>支持历史数据同步</p> <p>格式更轻量</p> <p>支持断点还原</p> <h3 id="_4-maxwell-同步历史数据的时候-怎么保证一致性"><a href="#_4-maxwell-同步历史数据的时候-怎么保证一致性" class="header-anchor">#</a> 4.Maxwell 同步历史数据的时候，怎么保证一致性</h3> <p>只能保证至少一次（可能重复）</p> <p>比如：同步历史数据的过程中，原表新增了数据，Bootstrap会拿到，Maxwell 监听 binlog 也会拿到</p> <h2 id="sqoop"><a href="#sqoop" class="header-anchor">#</a> Sqoop</h2> <h3 id="_1-sqoop参数"><a href="#_1-sqoop参数" class="header-anchor">#</a> 1.Sqoop参数</h3> <div class="language-sh extra-class"><pre class="language-sh"><code>/opt/module/sqoop/bin/sqoop <span class="token function">import</span> <span class="token punctuation">\</span>
<span class="token parameter variable">--connect</span> <span class="token punctuation">\</span>
<span class="token parameter variable">--username</span> <span class="token punctuation">\</span>
<span class="token parameter variable">--password</span> <span class="token punctuation">\</span>
--target-dir <span class="token punctuation">\</span>
--delete-target-dir <span class="token punctuation">\</span>
--num-mappers <span class="token punctuation">\</span>
--fields-terminated-by  <span class="token punctuation">\</span>
<span class="token parameter variable">--query</span>  <span class="token string">&quot;<span class="token variable">$2</span>&quot;</span> <span class="token string">' and $CONDITIONS;'</span>
</code></pre></div><h3 id="_2-sqoop导入导出null存储一致性问题"><a href="#_2-sqoop导入导出null存储一致性问题" class="header-anchor">#</a> 2. Sqoop导入导出Null存储一致性问题</h3> <p>Hive中的Null在底层是以“\N”来存储，而MySQL中的Null在底层就是Null，为了保证数据两端的一致性。在导出数据时采用--input-null-string和--input-null-non-string两个参数。导入数据时采用--null-string和--null-non-string。</p> <h3 id="_3-sqoop数据导出一致性问题"><a href="#_3-sqoop数据导出一致性问题" class="header-anchor">#</a> 3. Sqoop数据导出一致性问题</h3> <p>场景1：如Sqoop在导出到Mysql时，使用4个Map任务，过程中有2个任务失败，那此时MySQL中存储了另外两个Map任务导入的数据，此时老板正好看到了这个报表数据。而开发工程师发现任务失败后，会调试问题并最终将全部数据正确的导入MySQL，那后面老板再次看报表数据，发现本次看到的数据与之前的不一致，这在生产环境是不允许的。</p> <p>官网：http://sqoop.apache.org/docs/1.4.6/SqoopUserGuide.html</p> <p>Since Sqoop breaks down export process into multiple transactions, it is possible that a failed export job may result in partial data being committed to the database. This can further lead to subsequent jobs failing due to insert collisions in some cases, or lead to duplicated data in others. You can overcome this problem by specifying a staging table via the --staging-table option which acts as an auxiliary table that is used to stage exported data. The staged data is finally moved to the destination table in a single transaction.</p> <p>–staging-table方式</p> <p>sqoop export --connect jdbc:mysql://192.168.137.10:3306/user_behavior --username root --password 123456 --table app_cource_study_report --columns watch_video_cnt,complete_video_cnt,dt --fields-terminated-by &quot;\t&quot; --export-dir &quot;/user/hive/warehouse/tmp.db/app_cource_study_analysis_${day}&quot; --staging-table app_cource_study_report_tmp --clear-staging-table --input-null-string '\N'</p> <h3 id="_4-sqoop底层运行的任务是什么"><a href="#_4-sqoop底层运行的任务是什么" class="header-anchor">#</a> 4. Sqoop底层运行的任务是什么</h3> <p>只有Map阶段，没有Reduce阶段的任务。默认是4个MapTask。</p> <h3 id="_5-sqoop一天导入多少数据"><a href="#_5-sqoop一天导入多少数据" class="header-anchor">#</a> 5. Sqoop一天导入多少数据</h3> <p>100万日活=》10万订单，1人10条，每天1g左右业务数据</p> <p>Sqoop每天将1G的数据量导入到数仓。</p> <h3 id="_6-sqoop数据导出的时候一次执行多长时间"><a href="#_6-sqoop数据导出的时候一次执行多长时间" class="header-anchor">#</a> 6. Sqoop数据导出的时候一次执行多长时间</h3> <p>每天晚上00:10开始执行，Sqoop任务一般情况20-30分钟的都有。取决于数据量（11.11，6.18等活动在1个小时左右）。</p> <h3 id="_7-sqoop在导入数据的时候数据倾斜"><a href="#_7-sqoop在导入数据的时候数据倾斜" class="header-anchor">#</a> 7. Sqoop在导入数据的时候数据倾斜</h3> <p>Sqoop参数撇嘴： split-by：按照自增主键来切分表的工作单元。</p> <p>num-mappers：启动N个map来并行导入数据，默认4个；</p> <h3 id="_8-sqoop数据导出parquet-项目中遇到的问题"><a href="#_8-sqoop数据导出parquet-项目中遇到的问题" class="header-anchor">#</a> 8. Sqoop数据导出Parquet（项目中遇到的问题）</h3> <p>Ads层数据用Sqoop往MySql中导入数据的时候，如果用了orc（Parquet）不能导入，需转化成text格式</p> <p>（1）创建临时表，把Parquet中表数据导入到临时表，把临时表导出到目标表用于可视化</p> <p>（2）ads层建表的时候就不要建Parquet表</p> <h3 id="举例说明"><a href="#举例说明" class="header-anchor">#</a> 举例说明</h3> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token comment">#从hdfs上导入本地mysql中</span>

sqoop <span class="token builtin class-name">export</span> <span class="token parameter variable">--connect</span> jdbc:mysql://192.168.137.1/yd <span class="token parameter variable">--username</span> root <span class="token parameter variable">-password</span> <span class="token number">123456</span> --export-dir /bigdata/hivedata/movie1/000000_0 <span class="token parameter variable">-m</span> <span class="token number">1</span> <span class="token parameter variable">--table</span> m1 --fields-terminated-by <span class="token string">'\t'</span>

sqoop <span class="token builtin class-name">export</span> <span class="token parameter variable">--connect</span> jdbc:mysql://192.168.137.1/yd <span class="token parameter variable">--username</span> root <span class="token parameter variable">-password</span> <span class="token number">123456</span> --export-dir /bigdata/hivedata/movie2/000000_0 <span class="token parameter variable">-m</span> <span class="token number">1</span> <span class="token parameter variable">--table</span> m2 --fields-terminated-by <span class="token string">'\t'</span>


sqoop <span class="token builtin class-name">export</span> <span class="token parameter variable">--connect</span> jdbc:mysql://192.168.137.1/yd <span class="token parameter variable">--username</span> root <span class="token parameter variable">-password</span> <span class="token number">123456</span> --export-dir /bigdata/hivedata/university1/000000_0 <span class="token parameter variable">-m</span> <span class="token number">1</span> <span class="token parameter variable">--table</span> u1 --fields-terminated-by <span class="token string">'\t'</span>

sqoop <span class="token builtin class-name">export</span> <span class="token parameter variable">--connect</span> jdbc:mysql://192.168.137.1/yd <span class="token parameter variable">--username</span> root <span class="token parameter variable">-password</span> <span class="token number">123456</span> --export-dir /bigdata/hivedata/university2/000000_0 <span class="token parameter variable">-m</span> <span class="token number">1</span> <span class="token parameter variable">--table</span> u2 --fields-terminated-by <span class="token string">'\t'</span>

sqoop <span class="token builtin class-name">export</span> <span class="token parameter variable">--connect</span> jdbc:mysql://192.168.137.1/yd <span class="token parameter variable">--username</span> root <span class="token parameter variable">-password</span> <span class="token number">123456</span> --export-dir /bigdata/hivedata/university3/000000_0 <span class="token parameter variable">-m</span> <span class="token number">1</span> <span class="token parameter variable">--table</span> u3 --fields-terminated-by <span class="token string">'\t'</span>


</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/learn-ceiling/handbook/Interview/13-Spark.html" class="prev">
        Spark
      </a></span> <!----></p></div> </main></div> <div class="footer" data-v-34d4abe6><div id="footer-info" data-v-34d4abe6><div class="footer-left" data-v-34d4abe6>
      © 2023-2024
      <span data-v-34d4abe6><a href="https://github.com/25122lxy/" target="_blank">lxy25122</a></span></div> <div class="footer-right" data-v-34d4abe6>Theme:<a href="https://github.com/JoeyBling/vuepress-theme-yilia-plus" target="_blank">vuepress-theme-yilia-plus</a> by Litten</div></div> <!----></div></main><div class="global-ui"><div id="live2d-widget" class="live2d-widget-container" style="position:fixed;right:65px;bottom:0px;width:135px;height:300px;z-index:99999;opacity:0.8;pointer-events:none;"><canvas id="live2d_canvas" width="135" height="300" class="live2d_canvas" style="position:absolute;left:0px;top:0px;width:135px;height:300px;"></canvas></div><canvas id="vuepress-canvas-cursor"></canvas></div></div>
    <script src="/learn-ceiling/assets/js/app.235538a9.js" defer></script><script src="/learn-ceiling/assets/js/2.c7d2b1f7.js" defer></script><script src="/learn-ceiling/assets/js/22.485d0a07.js" defer></script>
  </body>
</html>
