(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{335:function(t,a,s){"use strict";s.r(a);var e=s(1),v=Object(e.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"linux"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#linux"}},[t._v("#")]),t._v(" Linux")]),t._v(" "),a("h2",{attrs:{id:"bigdata-basic"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bigdata-basic"}},[t._v("#")]),t._v(" Bigdata-Basic")]),t._v(" "),a("h3",{attrs:{id:"_1-常用命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-常用命令"}},[t._v("#")]),t._v(" 1.常用命令")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("pwd")])]),t._v(" "),a("li",[a("code",[t._v("ls")])]),t._v(" "),a("li",[a("code",[t._v("ls -a")])]),t._v(" "),a("li",[a("code",[t._v("ls -l")])]),t._v(" "),a("li",[a("code",[t._v("cd")])]),t._v(" "),a("li",[a("code",[t._v("cd dir")])]),t._v(" "),a("li",[a("code",[t._v("mkdir dir")])]),t._v(" "),a("li",[a("code",[t._v("rm -rf dir")])]),t._v(" "),a("li",[a("code",[t._v("rm file")])]),t._v(" "),a("li",[a("code",[t._v("~")])]),t._v(" "),a("li",[t._v("文件查看命令\n"),a("ul",[a("li",[a("code",[t._v("cat file.txt")])]),t._v(" "),a("li",[a("code",[t._v("tac file.txt")]),t._v("从最后一行开始看")]),t._v(" "),a("li",[a("code",[t._v("nl file.txt")]),t._v("显示行号")]),t._v(" "),a("li",[a("code",[t._v("more file.txt")]),t._v("一页一页看")]),t._v(" "),a("li",[a("code",[t._v("less file.txt")])]),t._v(" "),a("li",[a("strong",[a("code",[t._v("head -n 20")]),t._v("看前20行")])]),t._v(" "),a("li",[a("strong",[a("code",[t._v("tail -n 20")]),t._v("看后20行")])])])]),t._v(" "),a("li",[a("code",[t._v("tar -zxvf file")])]),t._v(" "),a("li",[a("code",[t._v("mv file newfile")])]),t._v(" "),a("li",[a("code",[t._v("mv file/dir dir")])]),t._v(" "),a("li",[a("code",[t._v("su")])]),t._v(" "),a("li",[a("code",[t._v("su -")])]),t._v(" "),a("li",[a("code",[t._v("ssh user@host")])]),t._v(" "),a("li",[a("strong",[a("code",[t._v("scp -r file user@host:dir")])]),t._v("（-r代表递归复制）")]),t._v(" "),a("li",[a("code",[t._v("rsync -av /path/to/source_folder user@remote_host:/path/to/destination_folder")])]),t._v(" "),a("li",[a("code",[t._v("reboot")]),t._v("重启")]),t._v(" "),a("li",[a("code",[t._v("shutdown now")]),t._v("关机")])]),t._v(" "),a("ol",[a("li",[t._v("find 、rm、rmdir、mv、cp、cat、pwd、chmod、kill、ping、ifconfig")]),t._v(" "),a("li",[t._v("tail、ps、grep、netstat、echo、ssh、scp、top、mpstat、free、df")])]),t._v(" "),a("h3",{attrs:{id:"_2-高级命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-高级命令"}},[t._v("#")]),t._v(" 2.高级命令")]),t._v(" "),a("ul",[a("li",[t._v("查看内存:  "),a("code",[t._v("free -h")])]),t._v(" "),a("li",[t._v("查看磁盘:  "),a("code",[t._v("df -h")])]),t._v(" "),a("li",[t._v("查看CPU:  "),a("code",[t._v("top")])]),t._v(" "),a("li",[t._v("任务管理器："),a("code",[t._v("ps -ef")])]),t._v(" "),a("li",[a("strong",[t._v("查找进程:  "),a("code",[t._v("ps -ef | grep xxxx")])])]),t._v(" "),a("li",[t._v("查看目录大小:  "),a("code",[t._v("du -sh")])]),t._v(" "),a("li",[a("strong",[t._v("查看端口号:  "),a("code",[t._v("netstat -anp xx")])])]),t._v(" "),a("li",[t._v("测试网络:  "),a("code",[t._v("ping")])]),t._v(" "),a("li",[t._v("测试端口:  "),a("code",[t._v("telnet")])]),t._v(" "),a("li",[t._v("查看io:  "),a("code",[t._v("iotop")])]),t._v(" "),a("li",[a("code",[t._v("sort")]),t._v(" 排序")]),t._v(" "),a("li",[a("code",[t._v("awk")]),t._v(" 对文本处理")]),t._v(" "),a("li",[a("code",[t._v("cut")]),t._v(" 对文本切分")]),t._v(" "),a("li",[a("code",[t._v("sed")]),t._v(" 对文本内容全局替换")])]),t._v(" "),a("hr"),t._v(" "),a("p",[t._v("当在 Linux 系统中使用以下命令时，可以实现不同的文本处理和操作：")]),t._v(" "),a("ol",[a("li",[a("p",[a("code",[t._v("sort")]),t._v(" 排序：")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("对文件进行排序，并将结果输出到标准输出：")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("sort file.txt\n")])])])]),t._v(" "),a("li",[a("p",[t._v("将排序结果写入新文件：")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("sort file.txt > sorted_file.txt\n")])])])]),t._v(" "),a("li",[a("p",[t._v("按照数字进行排序（例如，按照第一列的数字值进行排序）：")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("sort -n -k1 file.txt\n")])])])])])]),t._v(" "),a("li",[a("p",[a("code",[t._v("awk")]),t._v(" 对文本处理：")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("打印文件的第一列：")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("awk '{print $1}' file.txt\n")])])])]),t._v(" "),a("li",[a("p",[t._v("计算文件每行的总和：")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("awk '{sum=0; for(i=1;i<=NF;i++) sum+=$i; print sum}' file.txt\n")])])])]),t._v(" "),a("li",[a("p",[t._v("根据分隔符切分并打印指定列：")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("awk -F',' '{print $3}' file.txt\n")])])])])])]),t._v(" "),a("li",[a("p",[a("code",[t._v("cut")]),t._v(" 对文本切分：")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("切分文件的某个字段并打印：")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("cut -d',' -f3 file.txt\n")])])])]),t._v(" "),a("li",[a("p",[t._v("根据字节位置切分文件：")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("cut -b 1-5 file.txt\n")])])])])])]),t._v(" "),a("li",[a("p",[a("code",[t._v("sed")]),t._v(" 对文本内容全局替换：")]),t._v(" "),a("ul",[a("li",[a("p",[t._v('将文件中的 "old" 替换为 "new" 并输出到标准输出：')]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("sed 's/old/new/g' file.txt\n")])])])]),t._v(" "),a("li",[a("p",[t._v("直接在原文件中替换并进行备份：")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("sed -i.bak 's/old/new/g' file.txt\n")])])])]),t._v(" "),a("li",[a("p",[t._v("在指定行范围内进行替换：")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("sed '10,20s/old/new/g' file.txt\n")])])])])])])]),t._v(" "),a("p",[t._v("以上是这些命令的简单示例用法，你可以根据具体需求和文本文件的结构进行进一步的使用和调整。")]),t._v(" "),a("hr"),t._v(" "),a("p",[t._v("在虚拟机之间传输文件，可以使用以下命令：")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("使用 scp 命令："),a("code",[t._v("scp")]),t._v(" 是 Secure Copy 的缩写，可以通过 SSH 安全地复制文件。以下是使用 scp 命令从本地主机复制文件到远程虚拟机：")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("scp /path/to/local/file username@remote_host:/path/to/destination\n")])])]),a("p",[t._v("这将把本地 "),a("code",[t._v("/path/to/local/file")]),t._v(" 文件复制到远程虚拟机的 "),a("code",[t._v("/path/to/destination")]),t._v(" 目录下。")]),t._v(" "),a("p",[t._v("反之，如果要从远程虚拟机复制文件到本地主机，可以使用如下命令：")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("scp username@remote_host:/path/to/remote/file /path/to/destination\n")])])]),a("p",[t._v("这会将远程虚拟机上的 "),a("code",[t._v("/path/to/remote/file")]),t._v(" 文件复制到本地主机的 "),a("code",[t._v("/path/to/destination")]),t._v(" 目录下。")]),t._v(" "),a("p",[t._v("注意：在执行以上命令时，需要替换 "),a("code",[t._v("username")]),t._v("、"),a("code",[t._v("remote_host")]),t._v("、"),a("code",[t._v("/path/to/local/file")]),t._v("、"),a("code",[t._v("/path/to/destination")]),t._v(" 和 "),a("code",[t._v("/path/to/remote/file")]),t._v(" 为实际的值。")])]),t._v(" "),a("li",[a("p",[t._v("使用 rsync 命令："),a("code",[t._v("rsync")]),t._v(" 是一个强大的文件复制和同步工具。以下是使用 rsync 命令从本地主机复制文件到远程虚拟机：")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("rsync -avz /path/to/local/file username@remote_host:/path/to/destination\n")])])]),a("p",[t._v("类似地，如果要从远程虚拟机复制文件到本地主机，可以使用如下命令：")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("rsync -avz username@remote_host:/path/to/remote/file /path/to/destination\n")])])]),a("p",[t._v("注意：同样需要替换 "),a("code",[t._v("username")]),t._v("、"),a("code",[t._v("remote_host")]),t._v("、"),a("code",[t._v("/path/to/local/file")]),t._v("、"),a("code",[t._v("/path/to/destination")]),t._v(" 和 "),a("code",[t._v("/path/to/remote/file")]),t._v(" 为实际的值。")])])]),t._v(" "),a("p",[t._v("无论是使用 scp 还是 rsync 命令，都需要确保主机之间已经建立了网络连接，并且具有正确的权限来访问文件和目录。")]),t._v(" "),a("h3",{attrs:{id:"_3-vi命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-vi命令"}},[t._v("#")]),t._v(" 3.vi命令")]),t._v(" "),a("ul",[a("li",[a("p",[a("strong",[a("code",[t._v(":set nu")]),t._v("显示行号")])])]),t._v(" "),a("li",[a("p",[a("code",[t._v(":set nonu")]),t._v("取消显示行号")])]),t._v(" "),a("li",[a("p",[a("strong",[a("code",[t._v(":/xx")]),t._v("查找")])])]),t._v(" "),a("li",[a("p",[a("code",[t._v("dd")]),t._v(" 删除光标所在行")])])]),t._v(" "),a("h3",{attrs:{id:"_4-脚本"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-脚本"}},[t._v("#")]),t._v(" 4.脚本")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("离线数仓分层脚本")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token shebang important"}},[t._v("#!/bin/bash")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("sql")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".\n")])])])]),t._v(" "),a("li",[a("p",[t._v("自己封装、分发、xcall、。。。")])]),t._v(" "),a("li",[a("p",[t._v("集群启停脚本")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token shebang important"}},[t._v("#!/bin/bash")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("case")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$1")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" \n"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"start"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token for-or-select variable"}},[t._v("i")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" master slave01 slave02\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ssh")]),t._v(" 用户名@主机名 "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"绝对路径 + 启动命令"')]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("done")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"stop"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token for-or-select variable"}},[t._v("i")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" master slave01 slave02\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ssh")]),t._v(" 用户名@主机名 "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"绝对路径 + 停止命令"')]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("done")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("esac")]),t._v("\n")])])])]),t._v(" "),a("li",[a("p",[t._v("datax的脚本")])])]),t._v(" "),a("h3",{attrs:{id:"_5-单引号、双引号"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-单引号、双引号"}},[t._v("#")]),t._v(" 5.单引号、双引号")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("嵌套，看最外层\n\n`"),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")]),t._v("\t字符串\n\n"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),t._v("\t取变量值\n\n"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'\"$do_date\"'")]),t._v(" 字符串，"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$do_date")]),t._v('"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("\"'do_date'\"")]),t._v("\t取变量值，"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'2020-02-02'")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")])]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("date")]),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")]),t._v(" 反引号"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")])]),t._v("，执行引号中命令 "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2019")]),t._v("年 05月 02日 星期四 "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("21")]),t._v(":02:08 CST\n")])])]),a("h3",{attrs:{id:"_6-linux是什么操作系统"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-linux是什么操作系统"}},[t._v("#")]),t._v(" 6.Linux是什么操作系统")]),t._v(" "),a("p",[t._v("CentOS 7.5")]),t._v(" "),a("h3",{attrs:{id:"_7-服务器怎么监控的-内存、磁盘、cpu。。。"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-服务器怎么监控的-内存、磁盘、cpu。。。"}},[t._v("#")]),t._v(" 7.服务器怎么监控的？——内存、磁盘、CPU。。。")]),t._v(" "),a("p",[t._v("Prometheus（采集工具） + Grafana(可视化)")]),t._v(" "),a("p",[t._v("Zabbix （采集工具）+  Grafana(可视化)")]),t._v(" "),a("h3",{attrs:{id:"_8-shell中提交了一个脚本-进程号已经不知道了-但是需要kill掉这个进程-怎么操作"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_8-shell中提交了一个脚本-进程号已经不知道了-但是需要kill掉这个进程-怎么操作"}},[t._v("#")]),t._v(" 8. Shell中提交了一个脚本，进程号已经不知道了，但是需要kill掉这个进程，怎么操作")]),t._v(" "),a("p",[a("code",[t._v("ssh $i \"ps -ef | grep file-flume-kafka | grep -v grep |awk '{print \\$2}' | xargs kill\"")])])])}),[],!1,null,null,null);a.default=v.exports}}]);