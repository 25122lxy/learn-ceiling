(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{358:function(t,a,r){"use strict";r.r(a);var v=r(1),e=Object(v.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"rabbitmq-简介及安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#rabbitmq-简介及安装"}},[t._v("#")]),t._v(" RabbitMQ-简介及安装")]),t._v(" "),a("h3",{attrs:{id:"_1-简介"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-简介"}},[t._v("#")]),t._v(" 1. 简介")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("RabbitMQ是一个消息代理：一个消息系统的媒介。它可以为你的应用提供一个通用的消息发送和接收平台，并且保证消息在传输过程中的安全。")])]),t._v(" "),a("li",[a("p",[t._v("它接受并转发消息。你可以把它当做一个快递站点，当你要发送一个包裹时，你把你的包裹放到快递站，快递员最终会把你的快递送到收件人那里，按照这种逻辑 RabbitMQ 是一个快递站，一个快递员帮你传递快件。RabbitMQ 与快递站的主要区别在于，它不处理快件而是接收，存储和转发消息数据。")])])]),t._v(" "),a("h3",{attrs:{id:"_2-安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-安装"}},[t._v("#")]),t._v(" 2.安装")]),t._v(" "),a("ol",[a("li",[a("p",[a("a",{attrs:{href:"https://www.rabbitmq.com/download.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("官网地址"),a("OutboundLink")],1)])]),t._v(" "),a("li",[a("p",[t._v("准备文件")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("erlang-21.3-1.el7.x86_64.rpm")])]),t._v(" "),a("li",[a("code",[t._v("rabbitmq-server-3.8.8-1.el7.noarch.rpm")])])])]),t._v(" "),a("li",[a("p",[t._v("安装（按照一下顺序）")]),t._v(" "),a("div",{staticClass:"language-shell script extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("rpm")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-ivh")]),t._v(" erlang-21.3-1.el7.x86_64.rpm\nyum "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" socat "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-y")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("rpm")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-ivh")]),t._v(" rabbitmq-server-3.8.8-1.el7.noarch.rpm\n")])])])]),t._v(" "),a("li",[a("p",[t._v("常用命令(按照以下顺序执行)")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("添加开机启动 RabbitMQ 服务")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("chkconfig rabbitmq-server on")])])])]),t._v(" "),a("li",[a("p",[t._v("启动服务")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("/sbin/service rabbitmq-server start")])])])]),t._v(" "),a("li",[a("p",[t._v("查看服务状态")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("/sbin/service rabbitmq-server status")])])])]),t._v(" "),a("li",[a("p",[t._v("停止服务(选择执行)")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("/sbin/service rabbitmq-server stop")])])])]),t._v(" "),a("li",[a("p",[t._v("开启 web 管理插件")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("rabbitmq-plugins enable rabbitmq_management")])])])]),t._v(" "),a("li",[a("p",[t._v("用默认账号密码(guest)访问地址")]),t._v(" "),a("ul",[a("li",[t._v("http://192.168.137.50:15672/ 出现权限问题")])])])])]),t._v(" "),a("li",[a("p",[t._v("添加一个新的用户")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("创建账号")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("rabbitmqctl add_user admin 123")])])])]),t._v(" "),a("li",[a("p",[t._v("设置用户角色")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("rabbitmqctl set_user_tags admin administrator")])])])]),t._v(" "),a("li",[a("p",[t._v("设置用户权限")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("set_permissions [-p <vhostpath>] <user> <conf> <write> <read>")])]),t._v(" "),a("li",[a("code",[t._v('rabbitmqctl set_permissions -p "/" admin ".*" ".*" ".*"')])]),t._v(" "),a("li",[t._v("用户 user_admin 具有/vhost1 这个 virtual host 中所有资源的配置、写、读权限")])])]),t._v(" "),a("li",[a("p",[t._v("当前用户和角色")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("rabbitmqctl list_users")])])])])])]),t._v(" "),a("li",[a("p",[t._v("再次利用 admin 用户登录")])]),t._v(" "),a("li",[a("p",[t._v("重置命令")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("关闭应用的命令为")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("rabbitmqctl stop_app")])])])]),t._v(" "),a("li",[a("p",[t._v("清除的命令为")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("rabbitmqctl reset")])])])]),t._v(" "),a("li",[a("p",[t._v("重新启动命令为\n"),a("code",[t._v("rabbitmqctl start_app")])])])])])])])}),[],!1,null,null,null);a.default=e.exports}}]);