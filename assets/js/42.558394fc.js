(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{359:function(e,t,s){"use strict";s.r(t);var a=s(1),r=Object(a.a)({},(function(){var e=this,t=e._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"docker-介绍及安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#docker-介绍及安装"}},[e._v("#")]),e._v(" Docker-介绍及安装")]),e._v(" "),t("h2",{attrs:{id:"_1-初始docker"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-初始docker"}},[e._v("#")]),e._v(" 1. 初始Docker")]),e._v(" "),t("p",[e._v("Docker如何解决大型项目依赖关系复杂，不同组件依赖的兼容性问题？")]),e._v(" "),t("ul",[t("li",[e._v("Docker允许开发中将应用、依赖、函数库、配置一起"),t("strong",[e._v("打包")]),e._v("，形成可移植镜像")]),e._v(" "),t("li",[e._v("Docker应用运行在容器中，使用沙箱机制，相互"),t("strong",[e._v("隔离")])])]),e._v(" "),t("p",[e._v("Docker如何解决开发、测试、生产环境有差异的问题？")]),e._v(" "),t("ul",[t("li",[e._v("Docker镜像中包含完整运行环境，包括系统函数库，仅依赖系统的Linux内核，因此可以在任意Linux操作系统上运行")])]),e._v(" "),t("p",[e._v("Docker是一个快速交付应用、运行应用的技术，具备下列优势：")]),e._v(" "),t("ul",[t("li",[e._v("可以将程序及其依赖、运行环境一起打包为一个镜像，可以迁移到任意Linux操作系统")]),e._v(" "),t("li",[e._v("运行时利用沙箱机制形成隔离容器，各个应用互不干扰")]),e._v(" "),t("li",[e._v("启动、移除都可以通过一行命令完成，方便快捷")])]),e._v(" "),t("h3",{attrs:{id:"_1-1-docker与虚拟机的区别"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-docker与虚拟机的区别"}},[e._v("#")]),e._v(" 1.1 Docker与虚拟机的区别")]),e._v(" "),t("ul",[t("li",[t("p",[e._v("docker是一个系统进程；虚拟机是在操作系统中的操作系统")])]),e._v(" "),t("li",[t("p",[e._v("docker体积小、启动速度快、性能好；虚拟机体积大、启动速度慢、性能一般")])])]),e._v(" "),t("h3",{attrs:{id:"_1-2-docker架构"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-docker架构"}},[e._v("#")]),e._v(" 1.2 Docker架构")]),e._v(" "),t("p",[e._v("镜像：")]),e._v(" "),t("ul",[t("li",[e._v("将应用程序及其依赖、环境、配置打包在一起")])]),e._v(" "),t("p",[e._v("容器：")]),e._v(" "),t("ul",[t("li",[e._v("镜像运行起来就是容器，一个镜像可以运行多个容器")])]),e._v(" "),t("p",[e._v("Docker结构：")]),e._v(" "),t("ul",[t("li",[t("p",[e._v("服务端：接收命令或远程请求，操作镜像或容器")])]),e._v(" "),t("li",[t("p",[e._v("客户端：发送命令或者请求到Docker服务端")])])]),e._v(" "),t("p",[e._v("DockerHub：")]),e._v(" "),t("ul",[t("li",[e._v("一个镜像托管的服务器，类似的还有阿里云镜像服务，统称为DockerRegistry")])]),e._v(" "),t("h2",{attrs:{id:"_2-安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-安装"}},[e._v("#")]),e._v(" 2. 安装")]),e._v(" "),t("p",[e._v("Docker 分为 CE 和 EE 两大版本。CE 即社区版（免费，支持周期 7 个月），EE 即企业版，强调安全，付费使用，支持周期 24 个月。")]),e._v(" "),t("p",[e._v("Docker CE 分为 "),t("code",[e._v("stable")]),e._v(" "),t("code",[e._v("test")]),e._v(" 和 "),t("code",[e._v("nightly")]),e._v(" 三个更新频道。")]),e._v(" "),t("p",[e._v("官方网站上有各种环境下的 "),t("a",{attrs:{href:"https://docs.docker.com/install/",target:"_blank",rel:"noopener noreferrer"}},[e._v("安装指南"),t("OutboundLink")],1),e._v("，这里主要介绍 Docker CE 在 CentOS上的安装。")]),e._v(" "),t("h3",{attrs:{id:"_2-1-centos安装docker"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-centos安装docker"}},[e._v("#")]),e._v(" 2.1 CentOS安装Docker")]),e._v(" "),t("p",[e._v("Docker CE 支持 64 位版本 CentOS 7，并且要求内核版本不低于 3.10， CentOS 7 满足最低内核的要求，所以我们在CentOS 7安装Docker。")]),e._v(" "),t("h4",{attrs:{id:"_2-1-1-卸载-可选"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-1-卸载-可选"}},[e._v("#")]),e._v(" 2.1.1 卸载（可选）")]),e._v(" "),t("p",[e._v("如果之前安装过旧版本的Docker，可以使用下面命令卸载：")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("yum remove docker \\\n                  docker-client \\\n                  docker-client-latest \\\n                  docker-common \\\n                  docker-latest \\\n                  docker-latest-logrotate \\\n                  docker-logrotate \\\n                  docker-selinux \\\n                  docker-engine-selinux \\\n                  docker-engine \\\n                  docker-ce\n")])])]),t("h4",{attrs:{id:"_2-1-2-安装docker"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-2-安装docker"}},[e._v("#")]),e._v(" 2.1.2 安装docker")]),e._v(" "),t("p",[e._v("首先需要大家虚拟机联网，安装yum工具")]),e._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[e._v("yum "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("install")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-y")]),e._v(" yum-utils "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n           device-mapper-persistent-data "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n           lvm2 --skip-broken\n")])])]),t("p",[e._v("然后更新本地镜像源：")]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 设置docker镜像源")]),e._v("\nyum-config-manager "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n    --add-repo "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n    https://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo\n    \n"),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("sed")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-i")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v("'s/download.docker.com/mirrors.aliyun.com\\/docker-ce/g'")]),e._v(" /etc/yum.repos.d/docker-ce.repo\n\nyum makecache fast\n")])])]),t("p",[e._v("然后输入命令：")]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[e._v("yum "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("install")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-y")]),e._v(" docker-ce\n")])])]),t("p",[e._v("docker-ce为社区免费版本。稍等片刻，docker即可安装成功。")]),e._v(" "),t("h4",{attrs:{id:"_2-1-3-启动docker"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-3-启动docker"}},[e._v("#")]),e._v(" 2.1.3 启动docker")]),e._v(" "),t("p",[e._v("Docker应用需要用到各种端口，逐一去修改防火墙设置。非常麻烦，因此建议大家直接关闭防火墙！")]),e._v(" "),t("p",[e._v("启动docker前，一定要关闭防火墙后！！")]),e._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("#查看防火墙状态")]),e._v("\nsystemctl status firewalld\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 关闭")]),e._v("\nsystemctl stop firewalld\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 禁止开机启动防火墙")]),e._v("\nsystemctl disable firewalld\n")])])]),t("p",[e._v("通过命令启动docker：")]),e._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[e._v("systemctl start "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("docker")]),e._v("  "),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 启动docker服务")]),e._v("\n\nsystemctl stop "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("docker")]),e._v("  "),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 停止docker服务")]),e._v("\n\nsystemctl restart "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("docker")]),e._v("  "),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 重启docker服务")]),e._v("\n\nsystemctl status "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("docker")]),e._v("  "),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 查看docker服务")]),e._v("\n")])])]),t("p",[e._v("然后输入命令，可以查看docker版本：")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("docker -v\n")])])]),t("h4",{attrs:{id:"_2-1-4-配置镜像加速"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-4-配置镜像加速"}},[e._v("#")]),e._v(" 2.1.4 配置镜像加速")]),e._v(" "),t("p",[e._v("docker官方镜像仓库网速较差，我们需要设置国内镜像服务：")]),e._v(" "),t("p",[e._v("参考阿里云的镜像加速文档：https://cr.console.aliyun.com/cn-hangzhou/instances/mirrors")])])}),[],!1,null,null,null);t.default=r.exports}}]);